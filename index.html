<!DOCTYPE html>

<html lang="en">
<head>
    <title>Metric Modeller</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" /> 
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script> 

    <style>
        body {
            margin: auto;
            max-width: 800px;
        }

    </style>

    <script>

        //Values for Info Domain FP calculator
        const idfpComplexityTable = {
            inputs : [3, 4, 6],
            outputs : [4, 5, 7],
            inquiries : [3, 4, 6],
            files : [7, 10, 15],
            externals : [5, 7, 10]
        };

        const languagePoints = {
            c : [2.5, 125],
            c_plusplus : [6, 53],
            c_sharp : [6, 54],
            java : [6, 53],
            python : [6, 53],
            php : [5, 67],
            assembly : [1, 320],
            sql : [25, 13],
            vb6 : [13, 22]            
        };

        $(document).ready(function() {
            //Attach functionality to numerical changes
            $("[id^=fp_num_]").change(function() {
                var parameterType = $(this).attr("id").split("fp_num_")[1];
                var parameterValue = $(this).val();
                var currentComplexity = parseInt($("input[name='fp_level']:checked").val());
                $("#fp_" + parameterType + "_total").val(parameterValue * idfpComplexityTable[parameterType][currentComplexity]);

                updateTotal();
            });

            
            $(".fp_level").click(function() {
                $("[id^=fp_num").trigger("change");
                updateTotal();
            });

            $("[id^=lang_]").click(function() {
                var language = $(".lang_choice:checked").attr("id").split("lang_")[1];

                $("#langresult_level").val(languagePoints[language][0]);                
                $("#langresult_loc").val(languagePoints[language][1]);                
                updateTotal();
            });
        });

        function updateTotal() {
            //FP for info calc
            var totalSum = 0;
            $(".fp_total").each(function() {
                totalSum += parseInt(this.value);
            });            

            $("#fp_grand_total").val(totalSum);

            //LOC/FP calc

            var level = parseInt($("#langresult_level").val());
            var loc = parseInt($("#langresult_loc").val());

            $("#langresult_locfp").val(loc * totalSum);
        }

    </script>

</head>
<body>
    <h1>Metric Modeller</h1>

    <form>
        <fieldset class="mb-5">
        <legend>Function Points for Info Domain Values</legend>
        <table class="table-bordered">
            <thead>
                <tr>
                    <th class="text-center">Parameter</th>
                    <th class="text-center">Count</th>
                    <th class="text-center">
                        <label for="fp_simple">Simple</label>
                        <input id="fp_simple" class="fp_level" checked name="fp_level" value="0" type="radio" />
                    </th>
                    <th class="text-center">
                        <label for="fp_average">Average</label>
                        <input id="fp_average" class="fp_level" name="fp_level" value="1" type="radio" />
                    </th>
                    <th class="text-center">
                        <label for="fp_complex">Complex</label>
                        <input id="fp_complex" class="fp_level" name="fp_level" value="2" type="radio" />
                    </th>
                    <th class="text-center">Total</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td># user inputs</td>
                    <td><input id="fp_num_inputs" type="number" min="0" value="0" /></td>
                    <td class="text-center">x3</td>
                    <td class="text-center">x4</td>
                    <td class="text-center">x6</td>
                    <td><input id="fp_inputs_total" value="0" class="fp_total text-center" readonly type="text" min="0" /></td>
                </tr>
                <tr>
                    <td># user outputs</td>
                    <td><input id="fp_num_outputs" type="number" min="0" value="0" /></td>
                    <td class="text-center">x4</td>
                    <td class="text-center">x5</td>
                    <td class="text-center">x7</td>
                    <td><input id="fp_outputs_total" value="0" class="fp_total text-center" readonly type="text" min="0" /></td>
                </tr>
                <tr>
                    <td># user inquiries</td>
                    <td><input id="fp_num_inquiries" type="number" min="0" value="0" /></td>
                    <td class="text-center">x3</td>
                    <td class="text-center">x4</td>
                    <td class="text-center">x6</td>
                    <td><input id="fp_inquiries_total" value="0" class="fp_total text-center" readonly type="text" min="0" /></td>
                </tr>
                <tr>
                    <td># files</td>
                    <td><input id="fp_num_files" type="number" min="0" value="0" /></td>
                    <td class="text-center">x7</td>
                    <td class="text-center">x10</td>
                    <td class="text-center">x15</td>
                    <td><input id="fp_files_total" value="0" class="fp_total text-center" readonly type="text" min="0" /></td>
                </tr>
                <tr>
                    <td># external interfaces</td>
                    <td><input id="fp_num_externals" type="number" min="0" value="0" /></td>
                    <td class="text-center">x5</td>
                    <td class="text-center">x7</td>
                    <td class="text-center">x10</td>
                    <td><input id="fp_externals_total" value="0" class="fp_total text-center" readonly type="text" min="0" /></td>
                </tr>
                <tr>
                    <td colspan="5">Total:</td>
                    <td><input id="fp_grand_total" class="text-center" type="text" readonly min="0"></td>
                </tr>
            </tbody>
        </table>
        </fieldset>

        <fieldset>
            <legend>Language Choice</legend>
            <div class="radio">
                <input type="radio" checked id="lang_c" name="lang_choice" class="lang_choice">
                <label for="lang_c">C</label>
            </div>
            <div class="radio">    
                <input type="radio" id="lang_c_plusplus" name="lang_choice" class="lang_choice">
                <label for="lang_c_plusplus">C++</label>
            </div>
            <div class="radio">    
                <input type="radio" id="lang_c_sharp" name="lang_choice" class="lang_choice">
                <label for="lang_c_sharp">C#</label>
            </div>
            <div class="radio">    
                <input type="radio" id="lang_java" name="lang_choice" class="lang_choice">
                <label for="lang_java">Java</label>
            </div>
            <div class="radio">    
                <input type="radio" id="lang_pyth" name="lang_choice" class="lang_choice">
                <label for="lang_python">Python</label>
            </div>
            <div class="radio">    
                <input type="radio" id="lang_php" name="lang_choice" class="lang_choice">
                <label for="lang_php">PHP</label>
            </div>
            <div class="radio">    
                <input type="radio" id="lang_assembly" name="lang_choice" class="lang_choice">
                <label for="lang_assembly">Assembly</label>
            </div>
            <div class="radio">    
                <input type="radio" id="lang_sql" name="lang_choice" class="lang_choice">
                <label for="lang_sql">SQL</label>
            </div>
            <div class="radio">    
                <input type="radio" id="lang_vb6" name="lang_choice" class="lang_choice">
                <label for="lang_vb6">VisualBasic 6</label>
            </div>

            <div class="form-row">
                <div class="col">
                    <label for="langresult_level">Language Level</label>
                    <input type="text" name="langresult_level" readonly id="langresult_level" />        
                </div>
                <div class="col">
                    <label for="langresult_loc">Language Average LoC</label>
                    <input type="text" name="langresult_loc" readonly id="langresult_loc" />
                </div>
                <div class="col">
                    <label for="langresult_locfp">Estimated Project LoC</label>
                    <input type="text" name="langresult_locfp" readonly id="langresult_locfp" />
                </div>
              </div>

        </fieldset>




    </form>


</body>
</html>